{"ast":null,"code":"import _objectSpread from\"C:/Users/armin/Desktop/vscode-projects/one-redovisning/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{API_URL}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Kontakt(){const[form,setForm]=useState({name:'',email:'',message:''});const[status,setStatus]=useState('idle');useEffect(()=>{const params=new URLSearchParams(window.location.search);const subject=params.get('subject');if(subject){setForm(f=>_objectSpread(_objectSpread({},f),{},{message:\"Ang\\xE5ende: \".concat(subject,\"\\n\\n\")}));}},[]);async function submit(e){e.preventDefault();if(!form.name||!form.email||!form.message){setStatus('validation-error');return;}setStatus('sending');try{const res=await fetch((API_URL||'')+'/contact',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(form)});if(!res.ok)throw new Error('Network response was not ok');setStatus('sent');setForm({name:'',email:'',message:''});}catch(err){console.error(err);setStatus('error');}}return/*#__PURE__*/_jsxs(motion.section,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:0.6},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Kontakt\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Fyll i formul\\xE4ret s\\xE5 \\xE5terkommer vi s\\xE5 snart vi kan.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,style:{display:'grid',gap:'0.6rem',maxWidth:520},\"aria-label\":\"Kontaktformul\\xE4r\",children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Namn\",placeholder:\"Namn\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"E-post\",placeholder:\"E-post\",type:\"email\",value:form.email,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{email:e.target.value}))}),/*#__PURE__*/_jsx(\"textarea\",{\"aria-label\":\"Meddelande\",placeholder:\"Meddelande\",rows:6,value:form.message,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{message:e.target.value}))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.6rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",\"aria-live\":\"polite\",children:\"Skicka\"}),status==='sending'&&/*#__PURE__*/_jsx(\"span\",{children:\"Skickar...\"}),status==='sent'&&/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"Tack! Meddelandet skickades.\"}),status==='error'&&/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"Fel vid skickning. F\\xF6rs\\xF6k senare.\"}),status==='validation-error'&&/*#__PURE__*/_jsx(\"span\",{style:{color:'orange'},children:\"Fyll i alla f\\xE4lt.\"})]})]})]});}export default Kontakt;","map":{"version":3,"names":["React","useState","useEffect","motion","API_URL","jsx","_jsx","jsxs","_jsxs","Kontakt","form","setForm","name","email","message","status","setStatus","params","URLSearchParams","window","location","search","subject","get","f","_objectSpread","concat","submit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","Error","err","console","error","section","initial","y","opacity","animate","transition","duration","children","onSubmit","style","display","gap","maxWidth","placeholder","value","onChange","target","type","rows","alignItems","color"],"sources":["C:/Users/armin/Desktop/vscode-projects/one-redovisning/client/src/pages/Kontakt.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { API_URL } from '../api';\r\n\r\nfunction Kontakt() {\r\n  const [form, setForm] = useState({ name: '', email: '', message: '' });\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const subject = params.get('subject');\r\n    if (subject) {\r\n      setForm((f) => ({ ...f, message: `Angående: ${subject}\\n\\n` }));\r\n    }\r\n  }, []);\r\n\r\n  async function submit(e) {\r\n    e.preventDefault();\r\n    if (!form.name || !form.email || !form.message) {\r\n      setStatus('validation-error');\r\n      return;\r\n    }\r\n    setStatus('sending');\r\n    try {\r\n      const res = await fetch((API_URL || '') + '/contact', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(form),\r\n      });\r\n      if (!res.ok) throw new Error('Network response was not ok');\r\n      setStatus('sent');\r\n      setForm({ name: '', email: '', message: '' });\r\n    } catch (err) {\r\n      console.error(err);\r\n      setStatus('error');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <motion.section initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ duration: 0.6 }}>\r\n      <h2>Kontakt</h2>\r\n      <p>Fyll i formuläret så återkommer vi så snart vi kan.</p>\r\n\r\n      <form onSubmit={submit} style={{ display: 'grid', gap: '0.6rem', maxWidth: 520 }} aria-label=\"Kontaktformulär\">\r\n        <input aria-label=\"Namn\" placeholder=\"Namn\" value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} />\r\n        <input aria-label=\"E-post\" placeholder=\"E-post\" type=\"email\" value={form.email} onChange={(e) => setForm({ ...form, email: e.target.value })} />\r\n        <textarea aria-label=\"Meddelande\" placeholder=\"Meddelande\" rows={6} value={form.message} onChange={(e) => setForm({ ...form, message: e.target.value })} />\r\n        <div style={{ display: 'flex', gap: '0.6rem', alignItems: 'center' }}>\r\n          <button type=\"submit\" aria-live=\"polite\">Skicka</button>\r\n          {status === 'sending' && <span>Skickar...</span>}\r\n          {status === 'sent' && <span style={{ color: 'green' }}>Tack! Meddelandet skickades.</span>}\r\n          {status === 'error' && <span style={{ color: 'red' }}>Fel vid skickning. Försök senare.</span>}\r\n          {status === 'validation-error' && <span style={{ color: 'orange' }}>Fyll i alla fält.</span>}\r\n        </div>\r\n      </form>\r\n    </motion.section>\r\n  );\r\n}\r\n\r\nexport default Kontakt;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}